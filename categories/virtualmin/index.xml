<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>virtualmin on blog vorona me</title><link>https://blog.vorona.me/categories/virtualmin/</link><description>Recent content in virtualmin on blog vorona me</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Thu, 25 Aug 2016 07:59:56 +0000</lastBuildDate><atom:link href="https://blog.vorona.me/categories/virtualmin/index.xml" rel="self" type="application/rss+xml"/><item><title>virtualmin: sieve</title><link>https://blog.vorona.me/2016/08/virtualmin-sieve/</link><pubDate>Thu, 25 Aug 2016 07:59:56 +0000</pubDate><guid>https://blog.vorona.me/2016/08/virtualmin-sieve/</guid><description>yum install dovecot-pigeonhole -y cp -a /etc/procmailrc{,.orig} echo &amp;#39; DELIVER=/usr/libexec/dovecot/deliver LOGFILE=/var/log/procmail.log TRAP=/etc/webmin/virtual-server/procmail-logger.pl :0wi VIRTUALMIN=|/etc/webmin/virtual-server/lookup-domain.pl $LOGNAME EXITCODE=$? :0 * ?/bin/test &amp;#34;$EXITCODE&amp;#34; = &amp;#34;73&amp;#34; /dev/null EXITCODE=0 :0 * ?/bin/test &amp;#34;$VIRTUALMIN&amp;#34; != &amp;#34;&amp;#34; { INCLUDERC=/etc/webmin/virtual-server/procmail/$VIRTUALMIN } DEFAULT=$HOME/Maildir/ ORGMAIL=$HOME/Maildir/ DROPPRIVS=yes :0w | $DELIVER :0 $DEFAULT &amp;#39; &amp;gt; /etc/procmailrc sed -i &amp;#34;s|protocol lda {|protocol lda {\n mail\_plugins = \$mail\_plugins sieve|&amp;#34; /etc/dovecot/conf.d/15-lda.conf sed -i &amp;#34;s|^protocols =.*$|protocols = imap sieve|&amp;#34; /etc/dovecot/dovecot.conf echo &amp;#39; service managesieve-login { inet_listener sieve { port = 4190 } } &amp;#39; &amp;gt;&amp;gt; /etc/dovecot/conf.</description></item><item><title>PHP: antivirus website check</title><link>https://blog.vorona.me/2016/07/php-antivirus-website-check/</link><pubDate>Thu, 21 Jul 2016 03:02:01 +0000</pubDate><guid>https://blog.vorona.me/2016/07/php-antivirus-website-check/</guid><description>Автоматизированное сканирование:
Базовая установка:
yum install clamav -y cd /root/install rm -rf maldetect-* wget http://www.rfxn.com/downloads/maldetect-current.tar.gz tar xfz maldetect-current.tar.gz cd maldetect-* ./install.sh cd ~ &amp;amp;&amp;amp; rm -rf /root/install/maldetect-* &amp;amp;&amp;amp; rm -rf /etc/cron.daily/maldet echo &amp;#34;.avi .jpg .flv .png &amp;#34; &amp;gt; /usr/local/maldetect/ignore\_file\_ext Сканирование:
freshclam ; maldet -u ; maldet -d ; maldet --scan-all /home/ Ручная проверка на предмет подозрительных файлов:
Подозриельность определяеся наличием следующих комбинаций, которые находятся в одной строке файла:
eval.*str_rot13 eval.*base64_decode eval.</description></item><item><title>WP-monitoring</title><link>https://blog.vorona.me/2016/04/wp-monitoring/</link><pubDate>Fri, 29 Apr 2016 00:43:21 +0000</pubDate><guid>https://blog.vorona.me/2016/04/wp-monitoring/</guid><description>git clone https://github.com/rsmmr/git-notifier cd public_html git init echo &amp;#39;*.jpg *.jpeg *.gif *.png *.ico *.css *.zip *.tgz *.gz *.rar *.bz2 *.doc *.xls *.exe *.pdf *.ppt *.txt *.tar *.mid *.midi *.wav *.bmp *.rtf *.js *.wmv *.wma *.mp3 *.mpg *.avi *.mpeg *.mp4 *.divx *.ttf *.woff2 *.woff *.swf *.scss *.svg *.mo *.po *.pot *.eot *.xap *.json *.xml *.md *.non_progressive .git-notifier.dat .git-notifier.dat.bak git-notifier.log wp-content/cache/ &amp;#39; &amp;gt; .gitignore git config hooks.mailinglist your@mail ln -s $HOME/git-notifier/git-notifier .git/hooks/post-commit crontab -l &amp;gt; tmp.</description></item></channel></rss>